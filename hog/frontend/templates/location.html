{% extends "_base.html" %}
{% load static %}

{% block content %}
<script>
  var location_code = '{{ location.code }}';
  var hog_codes = [{% for hog in location.hogs %}'{{hog.code}}',{% endfor %}];
  var min_date = {{ min_date }};
  var max_date = {{ max_date }};
  var initial_resolution = '{{ initial_resolution }}';
</script>

<script src="{% static 'main.js' %}"></script>


  <div class="row">
    <div class="col">
      <h1>Location: {{ location.name }}</h1>
    </div>
  </div>
  {% if num_measurements %}
  <div class="row">
    <div class="col">
      <div class="measurement-chart" id="temp-container" style="width:100%; height:400px;">Loading...</div>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <h2>Hogs that have visited this location</h2>
        {% for hog in location.hogs %}
          <h3><a class="btn btn-secondary" href="{% url 'hog' hog.code %}">{{ hog }}</a></h3>
          <div class="measurement-chart" id="weight-container-{{ hog.code }}" style="width:100%; height:400px;">Loading...</div>
        {% endfor %}
    </div>
  </div>
  {% else %}
  No measurements yet!
  {% endif %}

{% endblock %}
